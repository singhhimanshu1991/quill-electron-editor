<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Quill Electron Editor</title>
    <link href="third-party/quill/quill.snow.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css" integrity="sha384-TEMocfGvRuD1rIAacqrknm5BQZ7W7uWitoih+jMNFXQIbNl16bO8OZmylH/Vi/Ei" crossorigin="anonymous">
</head>
<body style="padding: 20px 40px;">
    <div id="editor" style="width: 100%; min-height: 1000px;">
    </div>

    <script>
        // You can also require other files to run in this process
        require('./renderer.js');
        window.$ = window.jQuery = require('./third-party/jquery/jquery.min.js');
    </script>
    <script src="third-party/quill/quill.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js" integrity="sha384-jmxIlussZWB7qCuB+PgKG1uLjjxbVVIayPJwi6cG6Zb4YKq0JIw+OMnkkEC7kYCq" crossorigin="anonymous"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <script>
        var editor = new Quill('#editor', {
            modules: {
                // toolbar: '#toolbar'
                formula: true,          // Include formula module
                toolbar: [['formula']]  // Include button in toolbar
            },
            placeholder: 'start writing here...',
            theme: 'snow'
        });

        console.log(editor.root.innerHTML);

        var ipc = require('electron').ipcRenderer;
        ipc.once('actionReply', function(event, response){
            // processResponse(response);
        });
        ipc.on('showFormula', function(event, arg) {
            document.getElementsByClassName('ql-formula')[0].click();
            ipc.send('invokeAction', 'formula should be shown');
        });
        ipc.on('getContent', function(event, arg) {
            ipc.send('invokeAction', editor.root.innerHTML);
        });
        $(function () {
            ipc.send('invokeAction', 'hello from jquery');
        });
    </script>
</body>
</html>
